const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RaiseRequest-CxFFobWj.js","assets/index-lJPOPwuk.js","assets/index-Dcwsn_fe.css","assets/OrgRequestModal-tZlobQGY.js"])))=>i.map(i=>d[i]);
import{r as t,j as s,_ as u}from"./index-lJPOPwuk.js";import{W as S}from"./WelcomeMessage-CctbiOXa.js";import{S as w,P as R}from"./search-C3DlLBFP.js";const T=t.lazy(()=>u(()=>import("./RaiseRequest-CxFFobWj.js"),__vite__mapDeps([0,1,2]))),_=t.lazy(()=>u(()=>import("./OrgRequestModal-tZlobQGY.js"),__vite__mapDeps([3,1,2])));function P(){const[a,x]=t.useState("reported"),[n,h]=t.useState(""),[g,c]=t.useState(!1),[b,d]=t.useState([{id:"1",title:"NeerMahal e agun lgse",assignedTo:"Tirthankar Das",deadline:"2023-10-29",status:"reported",description:"Bhalo koira poriskar koron lgbo"}]),[f,m]=t.useState(null),[y,o]=t.useState(!1),p=b.filter(e=>e.status===a&&e.title.toLowerCase().includes(n.toLowerCase())),j=[{key:"reported",label:"Reported"},{key:"in-progress",label:"In Progress"},{key:"completed",label:"Completed"}],k=e=>{const l={id:Date.now().toString(),title:e.locality,assignedTo:"Samik Das",deadline:new Date().toISOString().slice(0,10),status:"reported",description:e.description};d(r=>[l,...r]),console.log("Raised request:",e)},v=e=>e==="in-progress"?"In Progress":e==="reported"?"Reported":"Completed";function N(e,l){d(r=>r.map(i=>i.id===e?{...i,status:l}:i)),o(!1),m(null)}return s.jsxs("div",{className:"min-h-screen bg-tertiary-500 pb-24 max-w-md mx-auto",children:[s.jsx(S,{type:"Organization"}),s.jsx("div",{className:"px-5 -mt-4 mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(w,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-mocha-500",size:18}),s.jsx("input",{type:"text",placeholder:"Search tasks",value:n,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg bg-secondary-500  text-black placeholder-black text-sm focus:ring-2 focus:black outline"})]})}),s.jsx("div",{className:"px-5 mb-1",children:s.jsx("div",{className:"flex gap-6 border-b border-gray-300",children:j.map(e=>s.jsxs("button",{onClick:()=>x(e.key),className:`pb-3 px-1 text-sm font-medium transition-colors relative ${a===e.key?"text-text-500":"text-mocha-500"}`,children:[e.label,a===e.key&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-500"})]},e.key))})}),s.jsx("div",{className:"px-5 pt-5",children:p.length>0?s.jsx("div",{className:"space-y-3",children:p.map(e=>s.jsxs("button",{onClick:()=>{m(e),o(!0)},className:"w-full text-left bg-white rounded-lg p-4 shadow-sm border border-gray-100 hover:ring-2 hover:ring-primary-500/30 focus:outline-none",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold text-text-500 text-base",children:e.title}),s.jsx("span",{className:"bg-secondary-500 text-mocha-500 text-xs font-medium px-3 py-1 rounded uppercase tracking-wide",children:v(e.status)})]}),s.jsxs("p",{className:"text-sm text-mocha-500 mb-1",children:["Assigned to: ",e.assignedTo]}),s.jsxs("p",{className:"text-sm text-mocha-500",children:["Deadline: ",e.deadline]})]},e.id))}):s.jsx("div",{className:"text-center py-12 text-mocha-500",children:s.jsx("p",{className:"text-sm",children:"No tasks found"})})}),s.jsxs("button",{type:"button","aria-label":"Raise Request",className:"fixed flex bottom-22 right-6 bg-primary-500 text-white rounded-full px-6 py-4 shadow-lg items-center gap-2 font-medium text-sm hover:opacity-90 transition-opacity active:scale-95 z-40 md:hidden",onClick:()=>c(!0),children:[s.jsx(R,{size:20}),"Raise Request"]}),s.jsxs(t.Suspense,{fallback:null,children:[s.jsx(T,{open:g,onClose:()=>c(!1),onSubmit:k}),s.jsx(_,{open:y,task:f,onClose:()=>o(!1),onUpdateStatus:N})]})]})}export{P as default};
